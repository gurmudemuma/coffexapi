# Staging Environment Configuration
# Coffee Export Platform - Staging Settings

# Environment metadata
ENVIRONMENT=staging
DEPLOY_MODE=full
NODE_ENV=staging

# Service endpoints
API_GATEWAY_HOST=staging-api.coffee-export.com
API_GATEWAY_PORT=8000
FRONTEND_HOST=staging.coffee-export.com
FRONTEND_PORT=3000

# Database configuration
DATABASE_URL=mongodb://staging-db:27017/coffee_export_staging
REDIS_URL=redis://staging-redis:6379
COUCHDB_URL=http://admin:${COUCHDB_PASSWORD}@staging-couchdb:5984

# Blockchain network
BLOCKCHAIN_NETWORK=staging
FABRIC_CA_SERVER_URL=https://staging-ca.coffee-consortium.com:7054
ORDERER_URL=staging-orderer.coffee-consortium.com:7050

# IPFS configuration
IPFS_API_URL=http://staging-ipfs:5001
IPFS_GATEWAY_URL=http://staging-ipfs:8080

# Validator services
NATIONAL_BANK_VALIDATOR_URL=https://staging-nb-validator.coffee-export.com
BANK_API_VALIDATOR_URL=https://staging-bank-api.coffee-export.com
QUALITY_VALIDATOR_URL=https://staging-quality.coffee-export.com
CUSTOMS_VALIDATOR_URL=https://staging-customs.coffee-export.com

# Authentication and security
JWT_SECRET=${JWT_SECRET}
SESSION_SECRET=${SESSION_SECRET}
CORS_ORIGIN=https://staging.coffee-export.com

# SSL/TLS configuration
SSL_ENABLED=true
SSL_CERT_PATH=/certs/staging.crt
SSL_KEY_PATH=/certs/staging.key

# Logging configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_DIRECTORY=/var/log/coffee-export
LOG_MAX_SIZE=50m
LOG_MAX_FILES=14

# Staging-specific settings
HOT_RELOAD=false
DEBUG_MODE=false
ENABLE_DEV_TOOLS=false
MOCK_VALIDATORS=false

# Testing configuration
TEST_LICENSE_HASH=${STAGING_LICENSE_HASH}
TEST_INVOICE_HASH=${STAGING_INVOICE_HASH}
TEST_QUALITY_HASH=${STAGING_QUALITY_HASH}
TEST_SHIPPING_HASH=${STAGING_SHIPPING_HASH}

# Performance settings
REQUEST_TIMEOUT=15000
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=500
RATE_LIMIT_WINDOW_MS=60000

# Monitoring and health checks
HEALTH_CHECK_INTERVAL=30000
METRICS_ENABLED=true
MONITORING_PORT=9090
MONITORING_ENDPOINT=https://monitoring.coffee-export.com

# External services
NOTIFICATION_SERVICE_URL=https://notifications.coffee-export.com
EMAIL_SERVICE_URL=https://email.coffee-export.com
SMS_SERVICE_URL=https://sms.coffee-export.com

# Backup and disaster recovery
BACKUP_ENABLED=true
BACKUP_INTERVAL=daily
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=coffee-export-staging-backups

# Load balancing
LOAD_BALANCER_ENABLED=true
MAX_CONCURRENT_CONNECTIONS=200
CONNECTION_TIMEOUT=10000

# Feature flags
FEATURE_BLOCKCHAIN_VALIDATION=true
FEATURE_DOCUMENT_UPLOAD=true
FEATURE_REAL_TIME_MONITORING=true
FEATURE_AUDIT_TRAIL=true
FEATURE_ADVANCED_ANALYTICS=false

# Security settings
SECURITY_HEADERS_ENABLED=true
CSRF_PROTECTION_ENABLED=true
XSS_PROTECTION_ENABLED=true
CONTENT_SECURITY_POLICY_ENABLED=true